var Canvas;Canvas=function(){function t(t,i){this.main=document.getElementById("canvas"),this.context=this.main.getContext("2d"),this.particles=t,this.attractions=i,this.init_resize()}return t.prototype.init_resize=function(){var t;return t=function(t){return function(){return t.main.width=window.innerWidth,t.main.height=window.innerHeight}}(this),window.onresize=t,t()},t.prototype.update=function(){var t,i,n,s,h;for(this.context.globalAlpha=.05,this.context.fillStyle="#000000",this.context.fillRect(0,0,this.main.width,this.main.height),this.context.globalAlpha=1,this.context.fillStyle="#fff",this.context.strokeStyle="#fff",this.context.lineCap="round",s=this.particles,h=[],t=0,i=s.length;i>t;t++)n=s[t],this.context.lineWidth=n.radius,this.context.beginPath(),this.context.arc(n.x,n.y,n.radius,0,2*Math.PI),h.push(this.context.fill());return h},t}();var Attraction;Attraction=function(){function t(){this.radius=50+Math.round(200*Math.random()),this.x=this.radius+Math.round(Math.random()*(window.innerWidth-2*this.radius)),this.y=this.radius+Math.round(Math.random()*(window.innerHeight-2*this.radius)),this.strength=1,this.direction=-1}return t.prototype.get_speed=function(t){var i,n,s,h,r,a,e;return a=t.x-this.x,e=t.y-this.y,i=Math.atan2(a,e),r=i+=.5*Math.PI*this.direction,n=Math.sqrt(Math.pow(a,2),Math.pow(e,2)),s={x:0,y:0},n>this.radius?s:(h=(1-n/this.radius)*this.strength,s.x=Math.sin(r)*h,s.y=Math.cos(r)*h,s)},t}();var Particle,bind=function(t,i){return function(){return t.apply(i,arguments)}};Particle=function(){function t(t){this.update=bind(this.update,this);var i;this.x=Math.round(Math.random()*window.innerWidth),this.y=Math.round(Math.random()*window.innerHeight),this.radius=5,this.attractions=t,i=2*Math.PI*Math.random(),this.speed={x:50*Math.sin(i),y:50*Math.cos(i)},this.old_position={x:this.x,y:this.y}}return t.prototype.update=function(t){var i,n,s,h,r,a;for(this.old_position.x=this.x,this.old_position.y=this.y,this.x+=this.speed.x*t,this.y+=this.speed.y*t,h=this.attractions,n=0,s=h.length;s>n;n++)i=h[n],a=i.get_speed(this),this.x+=a.x,this.y+=a.y;return r=!1,this.x>window.innerWidth+this.radius?(r=!0,this.x=-this.radius):this.x<-this.radius&&(r=!0,this.x=window.innerWidth+this.radius),this.y>window.innerHeight+this.radius?(r=!0,this.y=-this.radius):this.y<-this.radius&&(r=!0,this.y=window.innerHeight+this.radius),r?(this.old_position.x=this.x,this.old_position.y=this.y):void 0},t}();var App,app;App=function(){function t(){this.init_attractions(),this.init_particles(),this.init_canvas(),this.init_events()}return t.prototype.init_attractions=function(){var t,i,n;for(this.attractions=[],n=[],t=i=0;10>i;t=++i)n.push(this.attractions.push(new Attraction));return n},t.prototype.init_particles=function(){var t,i,n;for(this.particles=[],n=[],t=i=0;1e3>i;t=++i)n.push(this.particles.push(new Particle(this.attractions)));return n},t.prototype.init_canvas=function(){return this.canvas=new Canvas(this.particles,this.attractions)},t.prototype.init_events=function(){var t,i;return i={},i.ref=+new Date,i.elapsed=0,(t=function(n){return function(){var s,h,r,a,e,o;for(window.requestAnimationFrame(t),s=+new Date,i.elapsed=(s-i.ref)/1e3,i.ref=s,n.canvas.update(),e=n.particles,o=[],h=0,r=e.length;r>h;h++)a=e[h],o.push(a.update(i.elapsed));return o}}(this))()},t}(),app=new App;